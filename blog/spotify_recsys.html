<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout.8634efe4.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_page.8ebbd519.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.515f0d26.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.5621f243.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.02becfe2.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.8b861ad3.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.svelte.f8856493.js">
		<link rel="modulepreload" href="../_app/immutable/entry/(posts)-_path_-_slug_-page.svelte.f5b1f45e.js">
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">


<body><header><nav><div class="title"><a href="/">db&#39;Doodle</a></div>
		<div class="links"><ul><li><a href="/about">ABOUT</a></li>
				<li><a href="/blog">Blog</a></li>
				<li><a href="/ml">ML</a></li>
				<li><a href="/cs">CS</a></li>
				<li><a href="/tech">Tech</a></li></ul></div></nav></header>

	<div class="contents"><div class="post-title"><h1>Spotify's RecSys</h1>
		<p>Spotify's Recommender System</p></div>
	

	<div class="metadata"><div class="metadata-img"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="110" height="80" viewBox="0 0 786.81995 572.25773" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill="#f2f2f2"><circle cx="458.3" cy="74.2" r="26.7"></circle><path d="M665.4 497.2C705 467 724 416 712.2 367.7q-.4-1.8-1-3.6c-8-28.8-27.3-56-55.7-65.3-23.8-7.7-49.8-1.8-74.7-5-48.8-6-86.6-45.5-113.2-86.8s-47-87.6-82.4-121.7C327 29 232 17 159.7 53.6s-118.3 118-116.3 199 50 158.4 120 199.5c25.7 15 55.3 25.8 84.8 22 25.6-3.2 49-17 74.4-21 40-6.4 80 11.7 114.6 32.8s68.2 46.2 107.6 56c38.3 9.5 85.7-17.8 120.8-44.6z"></path></g><g fill="#3f3d56"><path d="M608.4 55.3l-2.6-1.7a380 380 0 0 0-80.3-38.9L519 105h-41.5V1.5l-8-1.5v105h-49.3C364 105 318 59 318 2.7h0l-8 1.8V105h-40l-6.2-86a381 381 0 0 0-81.9 43.5l-1.3 1L174 68v344.2h118.3l-2-29-11.5-159h231.6l-11.5 159-2 29h117V58.8q-2.6-1.8-5.2-3.5zM310.2 198h-33.4l-6.2-85.3h39.6zm159.4 0h-56v-1.7c0-1.6-.7-3.2-1.8-4.4s-2.7-1.8-4.4-1.8H383c-1.6 0-3.2.7-4.4 1.8s-1.8 2.7-1.8 4.4v1.7H318v-85.3h151.5zm8 0v-85.3h41l-6.2 85.3zM0 434.3a289 289 0 0 0 28.1 29l730.6 1a289 289 0 0 0 28.1-29z"></path><path d="M495.4 341.6v85.7c0 2.3 1.8 4 4 4h127c2.3 0 4-1.8 4-4v-85.7c0-2.3-1.8-4-4-4h-127c-2.3 0-4 1.8-4 4z"></path></g><path d="M498.4 342.7v83.6c0 1.2 1 2.2 2.2 2.2h125c1.2 0 2.2-1 2.2-2.2v-83.6c0-1.2-1-2.2-2.2-2.2h-125c-1.2 0-2.2 1-2.2 2.2z" fill="#6c63ff"></path><path d="M492.8 444c.5.6 1.2 1 2 1h136c.8 0 1.5-.3 2-1s.7-1.4.5-2l-2-10c-.2-.8-.8-1.5-1.6-1.8-.3-.1-.6-.2-1-.2H496.8c-.3 0-.6.1-1 .2-.8.3-1.4 1-1.6 1.8l-2 10c-.2.7 0 1.5.5 2z" fill="#2f2e41"></path><g fill="#3f3d56"><rect x="830" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1457.67 1029.82)"></rect><rect x="821.7" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1440.91 1029.82)"></rect><rect x="813.3" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1424.16 1029.82)"></rect><rect x="804.9" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1407.4 1029.82)"></rect><rect x="796.5" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1390.65 1029.82)"></rect><rect x="788.1" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1373.9 1029.82)"></rect><rect x="779.8" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1357.14 1029.82)"></rect><rect x="771.4" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1340.39 1029.82)"></rect><rect x="763" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1323.63 1029.82)"></rect><rect x="754.6" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1306.88 1029.82)"></rect><rect x="746.3" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1290.13 1029.82)"></rect><rect x="737.9" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1273.37 1029.82)"></rect><rect x="729.5" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1256.62 1029.82)"></rect><rect x="721.1" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1239.86 1029.82)"></rect><rect x="712.8" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1223.11 1029.82)"></rect><rect x="704.4" y="595.6" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1206.36 1029.82)"></rect><rect x="830.1" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1457.86 1038.2)"></rect><rect x="821.8" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1441.11 1038.2)"></rect><rect x="813.4" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1424.36 1038.2)"></rect><rect x="805" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1407.6 1038.2)"></rect><rect x="796.6" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1390.85 1038.2)"></rect><rect x="788.2" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1374.09 1038.2)"></rect><rect x="779.9" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1357.34 1038.2)"></rect><rect x="771.5" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1340.59 1038.2)"></rect><rect x="763.1" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1323.83 1038.2)"></rect><rect x="754.7" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1307.08 1038.2)"></rect><rect x="746.4" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1290.32 1038.2)"></rect><rect x="738" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1273.57 1038.2)"></rect><rect x="729.6" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1256.82 1038.2)"></rect><rect x="721.2" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1240.06 1038.2)"></rect><rect x="712.9" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1223.31 1038.2)"></rect><rect x="704.5" y="599.8" width="4.2" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1206.55 1038.2)"></rect><rect x="760.6" y="604.8" width="33.5" height="2.5" rx=".5" transform="matrix(-1 0 0 -1 1348.13 1048.25)"></rect></g><g fill="#fff"><rect x="515.6" y="358.7" width="6" height="3.1" rx="1.6"></rect><rect x="548.2" y="358.7" width="6" height="3.1" rx="1.6"></rect><rect x="557.4" y="358.7" width="6" height="3.1" rx="1.6"></rect><rect x="524.5" y="358.5" width="20.8" height="3.1" rx="1.6"></rect><rect x="567.8" y="358.5" width="20.8" height="3.1" rx="1.6"></rect><rect x="524.3" y="365.8" width="6" height="3.1" rx="1.6"></rect><rect x="556.8" y="365.8" width="6" height="3.1" rx="1.6"></rect><rect x="566" y="365.8" width="6" height="3.1" rx="1.6"></rect><rect x="533.2" y="365.5" width="20.8" height="3.1" rx="1.6"></rect><rect x="576.5" y="365.5" width="20.8" height="3.1" rx="1.6"></rect><rect x="533" y="372.8" width="6" height="3.1" rx="1.6"></rect><rect x="565.5" y="372.8" width="6" height="3.1" rx="1.6"></rect><rect x="574.7" y="372.8" width="6" height="3.1" rx="1.6"></rect><rect x="541.8" y="372.6" width="20.8" height="3.1" rx="1.6"></rect><rect x="585.2" y="372.6" width="20.8" height="3.1" rx="1.6"></rect><rect x="541.6" y="379.9" width="6" height="3.1" rx="1.6"></rect><rect x="574.2" y="379.9" width="6" height="3.1" rx="1.6"></rect><rect x="583.4" y="379.9" width="6" height="3.1" rx="1.6"></rect><rect x="550.5" y="379.6" width="20.8" height="3.1" rx="1.6"></rect><rect x="548.2" y="407.9" width="6" height="3.1" rx="1.6"></rect><rect x="557.4" y="407.9" width="6" height="3.1" rx="1.6"></rect><rect x="567.8" y="408.2" width="20.8" height="3.1" rx="1.6"></rect><rect x="515.6" y="407.9" width="6" height="3.1" rx="1.6"></rect><rect x="524.5" y="408.2" width="20.8" height="3.1" rx="1.6"></rect><rect x="524.3" y="400.9" width="6" height="3.1" rx="1.6"></rect><rect x="556.8" y="400.9" width="6" height="3.1" rx="1.6"></rect><rect x="566" y="400.9" width="6" height="3.1" rx="1.6"></rect><rect x="533.2" y="401.1" width="20.8" height="3.1" rx="1.6"></rect><rect x="533" y="393.8" width="6" height="3.1" rx="1.6"></rect><rect x="565.5" y="393.8" width="6" height="3.1" rx="1.6"></rect><rect x="574.7" y="393.8" width="6" height="3.1" rx="1.6"></rect><rect x="541.8" y="394.1" width="20.8" height="3.1" rx="1.6"></rect><rect x="541.6" y="386.8" width="6" height="3.1" rx="1.6"></rect><rect x="574.2" y="386.8" width="6" height="3.1" rx="1.6"></rect><rect x="583.4" y="386.8" width="6" height="3.1" rx="1.6"></rect><rect x="550.5" y="387" width="20.8" height="3.1" rx="1.6"></rect></g><path d="M505 490.5l-13.3-21 42-33.4 17.3-19.2c4.6-5 11.5-7.3 18.2-6s12 6.3 14.2 12.7h0c3.2 9.8-2 20.4-11.6 24l-27.3 10z" fill="#ffb6b6"></path><path d="M191.7 337.5V440h72V337.5c0-1.5-1-3-2.4-3.3-.3-.1-.7-.2-1-.2h-65c-1 0-1.8.4-2.5 1s-1 1.5-1 2.4zm28 35.2c0-4.2 3.5-7.6 7.7-7.6s7.6 3.4 7.7 7.6v12c0 4.2-3.4 7.6-7.7 7.6s-7.6-3.4-7.7-7.6z" fill="#2f2e41"></path><path d="M191.5 436.8v10c0 1 1 2 2 2H262c1 0 2-1 2-2v-10zM78.7 183v187.3a9 9 0 0 0 9 9h277.5a9 9 0 0 0 9-9V183a9 9 0 0 0-9-9H87.7a9 9 0 0 0-9 9z" fill="#3f3d56"></path><path d="M85.2 185.3V368c0 2.7 2.2 4.8 4.8 4.8h273c2.7 0 4.8-2.2 4.8-4.8V185.3c0-2.7-2.2-4.8-4.8-4.8H90c-2.7 0-4.8 2.2-4.8 4.8z" fill="#fff"></path><path d="M135.8 448c.6.7 1.4 1 2.3 1h162.3a3 3 0 0 0 2.9-3.6l-2.5-12a3 3 0 0 0-1.9-2.2c-.3-.1-.7-.2-1-.2H140.6c-.4 0-.7.1-1 .2a3 3 0 0 0-1.9 2.2l-2.5 12a3 3 0 0 0 .6 2.5z" fill="#2f2e41"></path><g fill="#3f3d56"><path d="M354 205.6H98.7c-.6 0-1-.5-1-1s.4-1 1-1H354c.6 0 1 .5 1 1s-.4 1-1 1z"></path><ellipse cx="116.1" cy="192.3" rx="6" ry="6.1"></ellipse><ellipse cx="136.6" cy="192.3" rx="6" ry="6.1"></ellipse><ellipse cx="157.2" cy="192.3" rx="6" ry="6.1"></ellipse><use xlink:href="#B"></use><use xlink:href="#B" y="4.2"></use><use xlink:href="#B" y="8.2"></use></g><path d="M693.6 441c1 2.6 3.4 4.4 6.2 4.3l26.5-.7c2.8-.1 5.2-2 6-4.7l3.7-40c1.3.6 2.8 1 4.2 1 5.3-.1 9.5-4.6 9.4-10s-4.6-9.5-10-9.4c-.6 0-1.2.1-1.7.2-1.3-1.4-3-2-5-2l-40.8 1c-.3 0-.7.1-1 .1-1.8.3-3.4 1.4-4.3 3s-1 3.5-.6 5.2zm43.2-43.8l2.7-9.6c.3-1 .3-2.3 0-3.4.1 0 .2-.1.4-.1 3.8-.1 7 3 7 6.7s-3 7-6.7 7c-1.2 0-2.4-.2-3.4-.8z" fill="#2f2e41"></path><path d="M691.4 380.8c1 5 10.6 8.5 22.4 7.8 10.8-.5 19.6-4.3 21.2-8.8a6 6 0 0 0-1.8-.2l-40.8 1c-.3 0-.7.1-1 .1z" fill="#3f3d56"></path><g fill="#6c63ff"><path d="M716 419c.1 0 .1 0 .2-.1l5.8-3.8c.1-.1.2-.2.2-.4s-.1-.3-.2-.4l-6-4c-.1-.1-.3-.1-.5 0s-.3.2-.3.4.1.3.2.4l5.3 3.5-5 3.3c-.2.1-.3.4-.2.6s.3.3.6.3zm-9.2.5c.2-.1.3-.2.4-.4s-.1-.4-.2-.5l-5.3-3 5-3.8c.1-.1.2-.3.2-.5s-.1-.3-.3-.4-.4 0-.5.1l-5.7 4.3c-.1.1-.2.3-.2.4s.1.3.3.4l6 3.4c.1.1.2.1.4.1zm8.5 3s.1 0 .1-.1c.1-.1.2-.2.2-.3s0-.3-.1-.4l-8.2-13.4c-.1-.2-.5-.3-.7-.2s-.3.5-.2.7l8.2 13.4c.1.2.3.3.5.2z"></path><rect x="209.4" y="260.8" width="50.7" height="10.8" rx="3.3"></rect></g><g fill="#e6e6e6"><rect x="183.6" y="282.5" width="102.2" height="10.8" rx="3.3"></rect><rect x="183.6" y="304.2" width="102.2" height="10.8" rx="3.3"></rect></g><g fill="#3f3d56"><path d="M290.7 376.8l.2.7h0l6.5 19.8 7.5 23 14 43 .1 6.7h0l1 53.7-3 7.3 3.3 12s-1.5-18-9.6-7.7c-4.6 6-10 12-14.3 17.6q9.6 4 19.5 7l4.3 1.3q.5.1 1 .3a267 267 0 0 0 67.4 10.8l3.5.1h1.2 3.8q4 0 7.7-.1a267 267 0 0 0 56.1-7.6l-1-26c-.2-4.6-5.4-9.7-5.7-14.5-.2-3.7 4.4-7 4-10.8-1.6-22.8-3.5-14-5-30.2q-.2-2.4-.4-4.6l-1.6-17 6-38.7 9.6-60.7-.7-1.2-.8-.4-50.8-25.2-2.8-7a11 11 0 0 0-10.1-6.9l-33.5-.1c-3.5 0-6.8 1.7-9 4.5l-9 12.6z"></path><path d="M326.8 453.7l-7.6 16.2-5.2 11-9 46.6-4.5 4.7-3.8-16.8-40 9c-1.3-7.3-.4.2-1.2-7.8l.7-.7c.6-.6 1.2-1.2 1.2-1.7-.5-27.6 1-74.5 12.3-103a60 60 0 0 1 7-13.1l.7-1 13.3-19.8h0l.1-.1 32.4-17.2 1.4 39 1 28zm117 4.6l9.5 20.3 3.3 7 9 46.6 4.4 4.7 3.8-16.8 1.8-.4L508 513l9.5 30a18 18 0 0 0-3.3-22.5c-.6-.6-1.2-1.2-1.2-1.7.5-32.4-1.4-91.7-19.4-116-5.7-7.7-9-15.4-14-20.8l-12-19.8-.7-1.2-.8-.4z"></path></g><circle cx="386.4" cy="267.2" r="44.6" fill="#ffb6b6"></circle><path d="M446.6 236c-.7-.7-1.7-1.2-2.7-1.2l.7-2c.4-1.2.2-2.5-.6-3.5s-2-1.4-3.4-1.2l-2.4.5.2-1.6c.2-1.2-.3-2.5-1.3-3.3s-2.3-1-3.5-.6c-1 .4-2.3.3-3.2-.2-1-.5-1.7-1.5-2-2.6l-1-4-.1-.2c-4-7-12-12-21.8-13.8-8.7-1.6-17.6-.8-26 0-3.4.3-7.2.7-10.4 2.6-2.7 1.7-5 5-4.5 8.4-8.5-2.6-17.5 2.6-22 9-5.3 7.8-6.2 17.5-6.3 25-.4 18 3.3 32.7 11 43.7.6.8.7 2.5 1.8 3v-.4c1.2.6 2.5 1.6 2 2.7-1.4 3 7.6 10 14 12a88 88 0 0 0 37.6 2.3l.4-2.6c4-.5 6.6-1.5 7.4-3l3.5-3.2h0v-.1c5-4.7 6-7.3 6.5-11.4.5-4-.4-8-1.3-11.6 18.7 3-7.4-20 10-24.4.2-.1.4-.1.6-.1l1.5-.4c2.4-.6 4.6-1.6 6.7-3 5-3 6.5-7 9-11.4.7-1.3.6-3-.4-4zM544 461.4v7.2q0 .6 0 1.3l-.5 15.4v1l-1.5 29c-1.4 24.7-4 3.4-6.3 12l-.4 1.5a28 28 0 0 1-1.9 6.3l-4 2.3a281 281 0 0 1-11.5 6.1l-6.6 3.2-1 .5a271 271 0 0 1-34.7 13.3 241 241 0 0 1-7 2l-7.4 2a267 267 0 0 1-56.1 7.6l-7.7.1h-3.8-1.2l-3.5-.1a270 270 0 0 1-67.4-10.8l-1-.3-4.3-1.3q-10-3-19.5-7-7.3-3-14.5-6.3s-.1 0-.1-.1l-3-1.4c-.1-.1-.3-.1-.4-.2q-5.6-2.7-11-5.7c-3-7-7.4-8.4-10-14.6a26 26 0 0 1-1.7-5.7v-.1c.3 3.7-1.2-6.6 0 0v-.4-1.4c-3.4-33.5-3.2-71.8-4.7-103.4q-.2-3-.3-6l-.1-1.8.2-.5a1 1 0 0 1 .1-.1l.1-.2v-.1s0-.1.1-.1l.3-.4.1-.2c0-.1.1-.1.1-.1l.1-.1v-.1s0-.1.1-.1c.1-.1.2-.2.3-.2l1-1 .4-.3c1-.6 2-1 3.2-1.5.4-.1.8-.3 1.2-.4l.4-.1h.7c1-.3 2.4-.6 3.7-1l.5-.1.7-.1 1-.2c3-.5 6.3-.8 10-1q.5 0 1-.1h1.2 1 1l3-.1h9.5l4.8.1h.3l4.3.2c1 0 2 .1 3 .2l3 .2h2.3 2l1 .1 1.5.1 3.3.3 3.4.3 3.4.3h.3l3 .3.7.1 3 .3h1l2.4.3 3.2.4 2.4.3 4 .5 1.5.2L357 403a869 869 0 0 1 17.4 2.6q8.8 1.4 17.7 3l4.5.8q1 .2 2 .4l3.5.6 3.5.7 4 .8 27 5.7 4.3 1q4.3 1 8.6 2l2.3.6 5.7 1.5h.3a224 224 0 0 1 4.1 1q4.8 1.3 9.5 2.5 3 1 6 1.7l8.8 2.6 2 .6 6.2 2 4.7 1.6q2.3.8 4.5 1.6l2.8 1 4 1.5 1.2.5.7.3 1.4.6 1.4.6 1.4.6 1.3.6 1 .5 2 1 1 .5.8.4.3.2c.3.1.5.3.8.4.6.3 1 .6 1.7.8l2.2 1 2 1h.3l.5.3 1.5 1 2.7 1.8.6.4 1.8 1.3c.2.1.4.3.6.4.1.1.3.3.5.4l1.4 1.3.4.4c.1 0 .1.1.2.2l.6.6s0 .1.1.1l.7.8c.1.1.2.3.3.4l.3.5.3.4.5 1 .3.8c.1.3.1.5.2.8z" fill="#2f2e41"></path><path d="M544 461.4v7.2 1.3l-.5 15.4v1l-1.5 29c-1.4 24.7-4 3.4-6.3 12L513 514.3q-2.2-1.2-4.4-2.5c-16-9-34-18.4-52.8-27.7l-2.2-1L326 427.4l-21-7.2c-14-4.4-25.8-7.5-35-9-9.6-1.4-16.2-1-19 2q-.2-3-.3-6-.1-1-.1-1.8c.1-.2.1-.3.2-.5 0 0 0 0 0-.1a1 1 0 0 1 .1-.1l.1-.2c0-.1.1-.1.1-.2l.3-.4.3-.3c0 0 .1-.1.1-.1l.1-.1c0 0 0-.1.1-.1.1-.1.2-.2.3-.2l1-1 .4-.3c1-.6 2-1 3.2-1.5.4-.1.8-.3 1.2-.4l.4-.1.7-.2c1-.3 2.4-.6 3.7-1l1.2-.2 1-.2c3-.5 6.3-.8 10-1q.5 0 1-.1h1.2c.4 0 .7 0 1 0 .4 0 .7 0 1 0l3-.1h9.5l4.8.1h.3l4.3.2c1 0 2 .1 3 .2l3 .2h2.3l2 .1 2.4.2 3.3.3 3.4.3 3.4.3h.3l3 .3q8.7 1 18 2 5.5.7 11.2 1.5l17.4 2.6q8.8 1.4 17.7 3l4.5.8q2.8.5 5.5 1l3.5.7 4 .8 27 5.7 4.3 1q4.3 1 8.6 2l2.3.6q3 .7 5.7 1.4h0 .3a409 409 0 0 1 4.1 1.1q4.8 1.3 9.5 2.5l6 1.7 8.8 2.6 2 .6q3 1 6.2 2l4.7 1.6q2.3.8 4.5 1.6l2.8 1 4 1.5 1.2.5 2 1 1.4.6 1.3.6 1.3.6 1 .5 2 1 1 .5.8.4.3.2a115 115 0 0 1 2.5 1.2l2.2 1 2.4 1.3.5.3 1.5 1 2.7 1.8 2.4 1.7 1 .8 1.4 1.3c.1.1.3.3.4.4.1 0 .1.1.2.2l.6.7.7.8c.1.1.2.3.3.4l.3.5.3.4c.2.4.4.7.5 1 .1.3.2.5.3.8.1.3.1.5.2.8z" opacity=".2"></path><defs><path id="B" d="M341.6 187.8H327c-.6 0-1 .5-1 1s.5 1 1 1h14.6c.6 0 1-.5 1-1s-.5-1-1-1z"></path></defs></svg></div>
		<div class="metadata-text"><p style="display: flex; margin: 0; align-self: end;"><span style="font-weight: 600;">By Duaibeom</span>
				<span style="color: #57606a; margin-left: auto;">Mar. 16, 2023</span></p>
			<ul class="tag" style="justify-self: end; align-self: start;"><li>spotify</li><li>recsys</li></ul></div></div>
	

	<div class="base-grid"><div class="grid-toc"><div class="toc"><!-- HTML_TAG_START --><h4>Contents</h4><p class="toc-h2"><a href="#소개">소개</a></p><p class="toc-h2"><a href="#어떻게-spotify의-음악-추천이-작동할까">어떻게 Spotify의 음악 추천이 작동할까?</a></p><p class="toc-h3"><a href="#behind-the-algorithm-음악과-사용자-이해하기">Behind the algorithm: 음악과 사용자 이해하기</a></p><p class="toc-h2"><a href="#content-based-filtering">Content-based filtering</a></p><p class="toc-h2"><a href="#collaborative-filtering-cf">Collaborative Filtering (CF)</a></p><p class="toc-h2"><a href="#generating-user-taste-profiles">Generating User Taste Profiles</a></p><p class="toc-h2"><a href="#recommending-music-integrating-user-and-track-representations">Recommending music: integrating user and track representations</a></p><!-- HTML_TAG_END --></div></div>
		

		<div class="grid-article"><!-- HTML_TAG_START --><blockquote>
<p><a href="https://www.music-tomorrow.com/blog/how-spotify-recommendation-system-works-a-complete-guide-2022">Inside Spotify’s Recommender System: A Complete Guide to Spotify Recommendation Algorithms</a> by Dmitry Pastukhov, at February 9, 2022</p>
<p>위 글을 정리한 내용입니다.</p>
</blockquote>
<h2 id="소개">소개<a href="#소개" class="anchor"><span class="visually-hidden">#</span></a></h2><p>2020년대로 접어들면서, AI 기반 추천 시스템의 도움으로 음악 스트리밍 시장이 커지고 있다. 2020년에는 소비자의 62%가 (Spotify 및 YouTube와 같은 플랫폼에서) 음악 검색의 상위 목록에 대해 평가 (좋아요/싫어요) 하였다. 상위 목록만 소비되는 문화는 추천 시스템에 의해 더 <strong>건강한 소비 문화</strong>로 변경될 것이다. 예를 들어 Spotify에서 발표된 Made to be Found 보고서에 따르면 모든 <strong>새로운 아티스트 발견의 1/3 이상</strong>이 “Made for You” 추천 세션을 통해 발생합니다.</p>
<blockquote>
<p>추천 시스템의 도입으로 단순히 차트 상위 음악들만 소비되는 것이 아니라 청취자의 기호에 따라 더 다양한 음악이 소비되고 있다. 이를 통해 <a href="https://www.ttimes.co.kr/article/2021120718077760755">음악가들의 방식도 변경</a>되고 있다.</p>
</blockquote>
<p>알고리즘 기반 추천이 음악 산업 중심에 있지만 아직 미지 영역으로 간주되고 있다. 어떻게 음악가들이 추천이 되고 작동이 되는지 명확히 알기 어렵다. 그럼에도 음악 산업은 추천 시스템에 의존하여 새로운 청취자들과 신규 앨범 런칭을 위해 광고비용을 늘리고 있다.</p>
<p>이글은 AI 기반 추천 시스템이 어떻게 음악 산업에 어떤 과정을 통해 영향을 미치는지 주목하려고 한다.</p>
<h2 id="어떻게-spotify의-음악-추천이-작동할까">어떻게 Spotify의 음악 추천이 작동할까?<a href="#어떻게-spotify의-음악-추천이-작동할까" class="anchor"><span class="visually-hidden">#</span></a></h2><p>매우 다양한 방식으로 Spotify의 추천 시스템 엔진은 음악가 (artists)와 소비자 (fans)들을 모두 고려하여 작동하고 있다. Spotify의 긍정적인 측면으로 <a href="https://research.atspotify.com/">연구</a> 및 <a href="https://engineering.atspotify.com/">개발</a> <a href="https://developer.spotify.com/">정보</a>를 공개하고 있다. 하지만, 우리는 해당 정보들을 자세하게 소개하려는 것은 아니다. 우리는 사실에 기반하여 쉽게 이야기하려고 한다.</p>
<blockquote>
<p>Artificial Intelligence (AI, 인공지능)은 굉장히 넓은 포괄적인 개념이다. Terminator, Skynet을 상상한다면 AI에 해당한다. Machine Learning (ML, 기계 학습)은 AI의 하위 개념으로 세부적인 설계를 통한 것이 아닌 데이터를 통해 패턴을 찾아 특정 목적을 예측하는 학습 방법을 말한다. Deep Learning (DL, 심층 학습)은 ML의 하위 개념으로 ML 모델 요소 중 하나인 Neural Network에 집중하여 Network 구조를 다층 체계화하여 학습하는 방법을 말한다.</p>
</blockquote>
<h3 id="behind-the-algorithm-음악과-사용자-이해하기">Behind the algorithm: 음악과 사용자 이해하기<a href="#behind-the-algorithm-음악과-사용자-이해하기" class="anchor"><span class="visually-hidden">#</span></a></h3><p>AI 추천 시스템의 중심은 사용자 확보, 체류 시간 증가에 집중하고, 궁극적으로는 수익을 발생시키는 것이다. 추천 시스템이 작동 되기 위해서는 무엇이 어떻게 사용자에게 추천되는지 이해가 필요하다. Spotify는 여러개의 독립적인 ML 모델을 통해 음악 정보(item representation)와 사용자 정보(user representation)를 생성한다. 이 과정이 어떻게 이루어지는지 앨범/가수 정보(track/artist representation)를 시작으로 알아본다.</p>
<p>Generating Track Representations: Content-based and Collaborative filtering</p>
<p>Spotify의 접근법은 두가지 핵심 요소로 구성된다.</p>
<ol>
<li><strong>Content-based filtering</strong> (정보 기반 추천)<strong>,</strong> 앨범 자체에 목적을 두고 정보를 표현한다.</li>
<li><strong>Collaborative filtering</strong> (유사 기반 추천), 사용자를 통해 생성된 데이터간 상관관계에 기반하여 표현한다.</li>
</ol>
<p>추천 알고리즘은 두가지 접근법을 모두 필요로 한다. 새로운 앨범이나 곡이 등록 되었을 때 설명 정보가 부족하거나 사용자 데이터가 부족하기 때문이다. 해당 문제를 <strong>cold start problem</strong>이라 한다.</p>
<h2 id="content-based-filtering">Content-based filtering<a href="#content-based-filtering" class="anchor"><span class="visually-hidden">#</span></a></h2><p>먼저, Content-based filtering 알고리즘에 대해 살펴본다.</p>
<ul>
<li><p>Analyzing artist-sourced metadata</p>
<p>  Spotify는 신규 등록된 앨범이 있을 경우 알고리즘을 이용해 제작자로부터 제공된 부가정보 (metadata)와 내부 규정된 부가정보를 분석한다. 이상적인 경우 모든 부가정보들이 제공되어 있는 것이다.</p>
<p>  다음 정보들이 포함되어 있을 것이다.</p>
<ul>
<li>앨범명, 발매일, 가수명, 참여 가수, 작곡 및 작사가, 소속사 혹은 제작사, 장르, Mood, Music style, Custom Features, etc.</li>
</ul>
</li>
<li><p>Analyzing raw audio signals</p>
<p>  두번째는 음원 분석이다. 여기서 어떤 정보가 분석되어 나오는지는 명확하지 않다. 하지만, 몇가지 추정 가능하다. <a href="https://developer.spotify.com/documentation/web-api/reference/#/operations/get-audio-features">Spotify API</a>에 따르면 몇가지 음향 특성에 기반하고 있다. 예를 들면 특성 <code>instrumentalness</code>은 해당 곡에 보컬 (목소리)이 얼마나 차지하는지 (예측) 수치화 되어 있다. 해당 곡이 악기 위주의 곡이면 <code>1</code> 보컬이 많다면 <code>0</code>에 가까운 점수로 표현이 된다.</p>
<blockquote>
<p>원 글 <code>the objective sonic description</code>을 <code>특성</code>으로 간단히 번역하였다. 설계된 특성이 좀더 명백한 설명이지만 편의상 간단히 번역하였다.</p>
</blockquote>
<p>  위의 API에 따르면 Spotify는 기존 곡의 부가정보 외에 상위 개념 특성을 생성한다.</p>
<p>  Example features of Spotify API:</p>
<ol>
<li><strong>Danceability</strong> describes how suitable a track is for dancing based on a combination of musical elements including <strong>tempo</strong>, <strong>rhythm stability</strong>, <strong>beat strength</strong>, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable.</li>
<li><strong>Energy</strong> is a measure from 0.0 to 1.0 and represents a <strong>perceptual measure</strong> of intensity and activity. Typically, energetic tracks <strong>feel fast</strong>, <strong>loud</strong>, and <strong>noisy</strong>. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy.</li>
<li><strong>Valence</strong>: A measure from 0.0 to 1.0 describing the <strong>musical positiveness</strong> conveyed by a track. Tracks with <strong>high valence</strong> sound more positive (e.g. <strong>happy, cheerful, euphoric</strong>), while tracks with <strong>low valence</strong> sound more negative (e.g. <strong>sad, depressed, angry</strong>).</li>
</ol>
<p>  위의 예들은 몇가지 특성에 불과하다. 아래 그림처럼 Spotify는 곡 자체를 구조 (<a href="https://research.atspotify.com/publications/generalized-metrics-for-single-f0-estimation-evaluation/">음정, 멜로디</a>, 코드, <a href="https://research.atspotify.com/2020/08/making-sense-of-music-by-extracting-and-analyzing-individual-instruments-in-a-song/">악기</a> 단위) 분석하여 특성을 만들어낼 것이다. 또한 위의 해당 특성들은 2013년에 공개가 되었으며, 일부에 불과할 것으로 보인다.</p>
  <img src="/images/blog_18_fig_1.png" height=200>
  
<blockquote>
<p>from <a href="https://developer.spotify.com/">https://developer.spotify.com/</a></p>
</blockquote>
<p>  Spotify의 분석 알고리즘 연구는 10년이 넘어가고 있다. 지금은 훨씬 더 많은 발전을 이루었을 것이다. 2021년 GraphSAGE에 기반한 <a href="https://research.atspotify.com/multi-task-learning-of-graph-based-inductive-representations-of-music-content/">Spotify의 연구</a>에 따르면, Audio feature로만 42-dimensional vector를 이용하고 있다고 한다. 위의 설명한 특성들을 포함하여 42개의 특성을 이용하고 있다는 것이다.</p>
  <img src="/images/blog_18_fig_2.png" height=180>
  
<blockquote>
<p>from the paper “Multi-Task Learning of Graph-based Inductive Representations of Music Content”</p>
</blockquote>
<blockquote>
<p>즉, 곡 자체에서 엄청난 양의 정보를 자세하게 분석하여 Spotify 플랫폼에 적용하고 있다는 것이다. 중요한 것은 위의 딥러닝 모델이 42개 특성들을 만들어 내는 것이 아니다. <strong>42개 특성들이 학습 데이터로 들어간다는 것</strong>이다. 42개 특성들은 개별적인 ML 모델을 통해 나오거나 다년간 Spotify의 축적된 기술이기 때문에 가능한 것으로 보인다. 여러 특성들 역시 Spotify만의 관점이 아니라 Artist의 관점을 잘 반영하였을 것으로 보인다.</p>
</blockquote>
</li>
<li><p><strong>Analyzing text with Natural Language Processing (NLP) models</strong></p>
<p>  Content-based filtering의 마지막 요소로 자연어처리 (NLP) 모델이 있다. 자연어처리 모델이 하는 것은 특정 앨범 혹은 가수와 관련된 글들을 분석하여 의미를 추출한다.</p>
<p>  해당 모델들이 하는 것은 다음의 예가 있다.</p>
<ol>
<li><p><strong>Lyrics analysis</strong>: 가사 분석을 통해 곡의 테마나 의미를 얻는다. 또한, 위험성이 있는 단어나 민감한 정보를 포함하는지 확인한다. (지역, 특정인 이름, 브랜드)</p>
<blockquote>
<p>TMI: 라디오에서 Pop은 브랜드 언급이 가능하지만, 국내 곡은 브랜드 언급이 불가하다.</p>
</blockquote>
</li>
<li><p><strong>Web-crawled data</strong>: 블로그나 미디어 매체를 통해 얻는 정보들은 Spotify 내에서 얻을 수 없는 정보들이다. 가수나 곡에 대한 다양한 느낌이나 표현을 얻을 수 있다.</p>
</li>
<li><p><strong>User-generated playlists</strong>: 플레이 리스트 제목에 포함된 단어들을 통해 정보를 얻는다. “슬픔”이란 단어를 포함하는 플레이리스트들에 자주 등장하는 곡이라면 해당 곡은 슬픈 무드를 가지고 있을 확률이 크다.</p>
</li>
</ol>
<p>  NLP 모델을 통해 사용자들은 곡에서 어떤 느낌을 받는지 음향 분석을 확장할 수 있다.</p>
</li>
</ul>
<p>Spotify의 Content-based 추천 시스템 요소들:</p>
<ul>
<li><strong>artist-sourced metadata</strong></li>
<li><strong>audio analysis</strong></li>
<li><strong>NLP models</strong></li>
</ul>
<h2 id="collaborative-filtering-cf">Collaborative Filtering (CF)<a href="#collaborative-filtering-cf" class="anchor"><span class="visually-hidden">#</span></a></h2><p>Collaborative Filtering는 많은 추천 시스템에 적용되어 있다.</p>
<p>CF는 곡을 추천할 때 비슷한 취향을 가지는 사용자를 찾아 해당 곡을 추천한다. 알고리즘은 사용자를 찾을 때 사용자의 청취 기록에 기반한다. 만약 사용자 A가 곡 X, Y, Z를 즐겨 듣고, 사용자 B가 X, Y를 즐겨 듣고 Z는 아직 못 들어봤다. 그렇다면 곡 Z를 사용자 B에게 추천한다. 해당 정보들은 아래와 같이 User-Item interaction matrix에 저장되어 있을 것이다.</p>
<ul>
<li>Row에 해당하는 정보는 User 한명이 어떤 곡들과 interaction을 가지고 있는지 이고, Column에 해당하는 정보는 특정 곡 하나가 어떤 User들과 interaction 하고 있는지 나타내고 있다. Row (User) 별로 비교하여 동일한 (혹은 비슷한) Row 정보를 가지고 있으면 유사한 취향을 가지고 있다고 할 수 있다.</li>
<li>아래의 Matrix를 M이라고 했을 때 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">M</mi><mo>⋅</mo><msup><mi mathvariant="bold">M</mi><mi mathvariant="normal">⊤</mi></msup></mrow><annotation encoding="application/x-tex">{\bf M} \cdot {\bf M}^\top</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">M</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">M</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">⊤</span></span></span></span></span></span></span></span></span></span></span>를 하게 되면 User-User Interaction matrix가 나오게 된다 해당 element 당 의미하는 것은 사용자와 사용자간의 interaction의 합이다. 해당 값이 높을 수록 사용자간 취향이 비슷하다고 할 수 있다. CF의 방법 중 하나이다.</li>
</ul>
<img src="/images/blog_18_fig_3.png" height=240>

<blockquote>
<p>Spotify는 현재 (<a href="https://www.statista.com/statistics/244995/number-of-paying-spotify-subscribers/">2022Q4 기준</a>) 2.05억명의 유로 구독자가 있다. 하나의 Matrix에 모든 정보를 담을 수 없다. Spotify는 효율적으로 Matrix 정보를 관리하기 위해 자체적인 관리 툴 (<a href="https://github.com/spotify/annoy">Annoy</a>)이 있다.</p>
</blockquote>
<p>위의 방법이 모든 것을 해결해줄 것 같지만 아니다. 실제는 위의 방법은 정확도, 확장성, 속도, 사용자 및 곡간의 정보 부족 등의 문제를 겪는다. 그래서 Spotify는 소비 기반의 필터링 방법에서 Session 기반의 필터링 방법으로 무게를 두고 있다. 예, “두 곡이 같은 플레이 리스트에 존재하면 유사하다.”</p>
<p>실제로는 많은 사용자가 매우 다양한 범위의 음악을 듣는다. (Spotify는 사용자가 <a href="https://research.atspotify.com/2020/12/algorithmic-effects-on-the-diversity-of-consumption-on-spotify/">다양한 음악</a>을 듣도록 설계를 하고 있다.) 이말은 많은 사용자가 곡 X와 곡 Y를 듣는다고 해서 두 음악가가 비슷한 것은 아니다. 만약 그렇게 된다면 Metallica (헤비메탈 밴드)와 ABBA (팝/댄스 그룹)을 공유하는 사용자가 많을 것이다. 따라서 플레이 리스트와 재생 목록간의 유사성 확인을 위해 사용자 행동(습관)에 더 자세한 접근이 필요하다.</p>
<p>많은 사용자가 곡 A와 곡 B를 하나의 플레이 리스트에 넣는다면 두 곡은 공통된 특성을 가지고 있을 것이다. 또한 플레이 리스트 제목으로부터 더 나은 통찰력을 얻을 수 있을 것이다.</p>
<p>Spotify의 CF 방식의 추천 시스템이 7억명의 사용자가 생성한 플레이 리스트에 기반하여 학습되고 있다. 플레이 리스트 기반 접근은 단순히 데이터가 많아서가 아니다. 사용자들이 열정, 사랑, 시간을 들여 신중하게 선택하여 생성된 것이다.</p>
<blockquote>
<p>플레이 리스트는 사용자가 고려하여 선택된 것들이다. 단순한 이용 기반보다는 조직적일 확률이 크다.</p>
</blockquote>
<p>마침내 Content-based filtering과 Collaborative filtering을 모두 살펴 보았다. 한가지 방식에 의존하는 것이 아니라 두가지 방식을 모두 이용하여 곡의 특성을 더욱 풍부하게 만든다. 그럼에도 신규 등록된 곡들은 부족할 수 있다. 곡 자체에 대한 분석과 아티스트의 정보를 이용해 근사될 것이다.</p>
<p>위의 살펴본 것들은 곡 (track) 혹은 가수 (artist) 단계의 데이터를 이용한 상관 관계 기반 추천이다. 우리는 사용자의 정보와 결합해 볼 것이다.</p>
<h2 id="generating-user-taste-profiles">Generating User Taste Profiles<a href="#generating-user-taste-profiles" class="anchor"><span class="visually-hidden">#</span></a></h2><p>기본적으로, 추천 엔진은 사용자에 대한 <strong>상세 활동</strong>을 모니터링하고, <strong>사용자 취향 (User Taste) 분석</strong>하는데 이용한다. 예를 들어, 사용자가 “What’s New” 탭을 사용하여 음악들을 빠르게 탐색하고 있다. 초반부만 재생하며, 마음에 드는 음악이면 playlist에 저장, 아니면 건너뛴다. 여기서 Skip이 반드시 부정적 신호라 할 수 없다. 반대로, “Deep Focus” playlist를 background (잠금 상태 혹은 메인 탭이 아닌)에서 skip을 한다면 강한 부정 신호라 볼 수 있다.</p>
<p>일반적으로 사용자 피드백은 두가지 영역으로 나눌 수 있다.</p>
<ul>
<li><strong>직접적 (Explicit, or active) feedback</strong>: library 저장, playlist 추가, 공유, skip, 가수 혹은 앨범 클릭, 가수 follow, 지속 청취</li>
<li><strong>간접적 (Implicit, or passive) feedback</strong>: 청취 시간, 반복적 청취,</li>
</ul>
<p>Spotify의 추천 시스템은 <strong>직접적 피드백</strong>에 더 무게를 두고 있다. 음악을 일을 하면서 background에서 듣고 있을 때 (방해 받고 싶지 않은) 청취는 항상 즐거움과 연관된 것은 아니다. 그럼으로 사용자 피드백 데이터는 다음 규약에 따라 처리된다.</p>
<ul>
<li>가장 많이 재생되거나 선호되는 음악과 가수</li>
<li>저장된 음악, 앨범 &amp; 팔로우 하는 가수</li>
<li>장르, mood, style, 발매일</li>
<li>인기성 및 다양성 선호도</li>
<li>일시적 행동 패턴</li>
<li>인구 통계 및 지리적 정보</li>
</ul>
<p>그리고 사용자 맞춤형 정보는 <strong>소비 상황</strong>을 따라 더 나누어진다. 예를 들어 동일 사용자가 일요일 저녁에는 mellow indie-pop을 월요일 아침에는 기운찬 hip-hop을 듣는 다면 Spotify는 <a href="https://research.atspotify.com/2020/05/giving-voice-to-silent-data-designing-with-personal-music-listening-history/">아래와 같은</a> (context-aware) 사용자 정보를 생성한다.</p>
<img class="big" src="/images/blog_18_fig_4.png">

<p>위의 history-based 사용자 정보는 새로운 소비 활동들과 합쳐져 <strong>지속적으로 변경</strong>된다. historic profile 기반이지만 <strong>최근 활동</strong>에 더 무게를 둔다. 예를 들어 사용자가 새로운 장르를 듣는다면, 사용자 피드백에 반영되고, 추천 시스템은 해당 곡들과 유사한 음악을 추천하려고 할 것이다. (기존 선호 곡과 매우 다르더라도)</p>
<h2 id="recommending-music-integrating-user-and-track-representations">Recommending music: integrating user and track representations<a href="#recommending-music-integrating-user-and-track-representations" class="anchor"><span class="visually-hidden">#</span></a></h2><hr>
<blockquote>
<p>updated date: 2023-03-19; Adding contents</p>
</blockquote>
<!-- HTML_TAG_END --></div>
		</div>

	<div class="controls svelte-1wai065"><ul class="svelte-1wai065"><li class="prev svelte-1wai065"><span class="svelte-1wai065">previous</span>
			<a href="/blog/kaggle_otto">RecSys Competition - OTTO</a></li>

		<li class="next svelte-1wai065"><span class="svelte-1wai065 faded">next</span>
			</li></ul>
</div>

	<script src="https://giscus.app/client.js" data-repo="duaibeom/duaibeom.github.io" data-repo-id="R_kgDOGXam8A" data-category="General" data-category-id="DIC_kwDOGXam8M4COJSN" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light" data-lang="en" crossorigin="anonymous" async></script></div>

	<footer><ul><li style="color: white;">© 2019 - 2023 Duaibeom Blog.</li>
		<li style="color: grey;">Powered by Svelte-kit(static) &amp; GitHub Pages</li></ul>
	<ul style="margin-left: auto;"><li><a href="/" style="color: #959da5;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19" class="d-block" height="20"><path d="M3.94 2A2 2 0 1 1 2 0a2 2 0 0 1 1.94 2zM4 5.48H0V18h4zm6.32 0H6.34V18h3.94v-6.57c0-3.66 4.77-4 4.77 0V18H19v-7.93c0-6.17-7.06-5.94-8.72-2.91z" fill="currentColor"></path></svg></a></li>
		<li><a href="https://github.com/duaibeom" style="color: #959da5;"><svg height="20" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" fill="currentColor"></path></svg></a></li></ul></footer></body>


			
			<script>
				{
					__sveltekit_1kwx0yh = {
						env: {},
						base: new URL("..", location).pathname.slice(0, -1),
						element: document.currentScript.parentElement
					};

					const data = [null,{"type":"data","data":{prev:{slug:"blog\u002Fkaggle_otto",title:"RecSys Competition - OTTO"},next:false,section:{file:"blog\u002F18-spotify_recsys.md",title:"Spotify's RecSys",date:"Mar. 16, 2023",summary:"Spotify's Recommender System",tag:["spotify","recsys"],toc:"\u003Ch4\u003EContents\u003C\u002Fh4\u003E\u003Cp class=\"toc-h2\"\u003E\u003Ca href=\"#소개\"\u003E소개\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp class=\"toc-h2\"\u003E\u003Ca href=\"#어떻게-spotify의-음악-추천이-작동할까\"\u003E어떻게 Spotify의 음악 추천이 작동할까?\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp class=\"toc-h3\"\u003E\u003Ca href=\"#behind-the-algorithm-음악과-사용자-이해하기\"\u003EBehind the algorithm: 음악과 사용자 이해하기\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp class=\"toc-h2\"\u003E\u003Ca href=\"#content-based-filtering\"\u003EContent-based filtering\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp class=\"toc-h2\"\u003E\u003Ca href=\"#collaborative-filtering-cf\"\u003ECollaborative Filtering (CF)\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp class=\"toc-h2\"\u003E\u003Ca href=\"#generating-user-taste-profiles\"\u003EGenerating User Taste Profiles\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp class=\"toc-h2\"\u003E\u003Ca href=\"#recommending-music-integrating-user-and-track-representations\"\u003ERecommending music: integrating user and track representations\u003C\u002Fa\u003E\u003C\u002Fp\u003E",body:"\u003Cblockquote\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.music-tomorrow.com\u002Fblog\u002Fhow-spotify-recommendation-system-works-a-complete-guide-2022\"\u003EInside Spotify’s Recommender System: A Complete Guide to Spotify Recommendation Algorithms\u003C\u002Fa\u003E by Dmitry Pastukhov, at February 9, 2022\u003C\u002Fp\u003E\n\u003Cp\u003E위 글을 정리한 내용입니다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"소개\"\u003E소개\u003Ca href=\"#소개\" class=\"anchor\"\u003E\u003Cspan class=\"visually-hidden\"\u003E#\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003E2020년대로 접어들면서, AI 기반 추천 시스템의 도움으로 음악 스트리밍 시장이 커지고 있다. 2020년에는 소비자의 62%가 (Spotify 및 YouTube와 같은 플랫폼에서) 음악 검색의 상위 목록에 대해 평가 (좋아요\u002F싫어요) 하였다. 상위 목록만 소비되는 문화는 추천 시스템에 의해 더 \u003Cstrong\u003E건강한 소비 문화\u003C\u002Fstrong\u003E로 변경될 것이다. 예를 들어 Spotify에서 발표된 Made to be Found 보고서에 따르면 모든 \u003Cstrong\u003E새로운 아티스트 발견의 1\u002F3 이상\u003C\u002Fstrong\u003E이 “Made for You” 추천 세션을 통해 발생합니다.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E추천 시스템의 도입으로 단순히 차트 상위 음악들만 소비되는 것이 아니라 청취자의 기호에 따라 더 다양한 음악이 소비되고 있다. 이를 통해 \u003Ca href=\"https:\u002F\u002Fwww.ttimes.co.kr\u002Farticle\u002F2021120718077760755\"\u003E음악가들의 방식도 변경\u003C\u002Fa\u003E되고 있다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E알고리즘 기반 추천이 음악 산업 중심에 있지만 아직 미지 영역으로 간주되고 있다. 어떻게 음악가들이 추천이 되고 작동이 되는지 명확히 알기 어렵다. 그럼에도 음악 산업은 추천 시스템에 의존하여 새로운 청취자들과 신규 앨범 런칭을 위해 광고비용을 늘리고 있다.\u003C\u002Fp\u003E\n\u003Cp\u003E이글은 AI 기반 추천 시스템이 어떻게 음악 산업에 어떤 과정을 통해 영향을 미치는지 주목하려고 한다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"어떻게-spotify의-음악-추천이-작동할까\"\u003E어떻게 Spotify의 음악 추천이 작동할까?\u003Ca href=\"#어떻게-spotify의-음악-추천이-작동할까\" class=\"anchor\"\u003E\u003Cspan class=\"visually-hidden\"\u003E#\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003E매우 다양한 방식으로 Spotify의 추천 시스템 엔진은 음악가 (artists)와 소비자 (fans)들을 모두 고려하여 작동하고 있다. Spotify의 긍정적인 측면으로 \u003Ca href=\"https:\u002F\u002Fresearch.atspotify.com\u002F\"\u003E연구\u003C\u002Fa\u003E 및 \u003Ca href=\"https:\u002F\u002Fengineering.atspotify.com\u002F\"\u003E개발\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fdeveloper.spotify.com\u002F\"\u003E정보\u003C\u002Fa\u003E를 공개하고 있다. 하지만, 우리는 해당 정보들을 자세하게 소개하려는 것은 아니다. 우리는 사실에 기반하여 쉽게 이야기하려고 한다.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EArtificial Intelligence (AI, 인공지능)은 굉장히 넓은 포괄적인 개념이다. Terminator, Skynet을 상상한다면 AI에 해당한다. Machine Learning (ML, 기계 학습)은 AI의 하위 개념으로 세부적인 설계를 통한 것이 아닌 데이터를 통해 패턴을 찾아 특정 목적을 예측하는 학습 방법을 말한다. Deep Learning (DL, 심층 학습)은 ML의 하위 개념으로 ML 모델 요소 중 하나인 Neural Network에 집중하여 Network 구조를 다층 체계화하여 학습하는 방법을 말한다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"behind-the-algorithm-음악과-사용자-이해하기\"\u003EBehind the algorithm: 음악과 사용자 이해하기\u003Ca href=\"#behind-the-algorithm-음악과-사용자-이해하기\" class=\"anchor\"\u003E\u003Cspan class=\"visually-hidden\"\u003E#\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAI 추천 시스템의 중심은 사용자 확보, 체류 시간 증가에 집중하고, 궁극적으로는 수익을 발생시키는 것이다. 추천 시스템이 작동 되기 위해서는 무엇이 어떻게 사용자에게 추천되는지 이해가 필요하다. Spotify는 여러개의 독립적인 ML 모델을 통해 음악 정보(item representation)와 사용자 정보(user representation)를 생성한다. 이 과정이 어떻게 이루어지는지 앨범\u002F가수 정보(track\u002Fartist representation)를 시작으로 알아본다.\u003C\u002Fp\u003E\n\u003Cp\u003EGenerating Track Representations: Content-based and Collaborative filtering\u003C\u002Fp\u003E\n\u003Cp\u003ESpotify의 접근법은 두가지 핵심 요소로 구성된다.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003EContent-based filtering\u003C\u002Fstrong\u003E (정보 기반 추천)\u003Cstrong\u003E,\u003C\u002Fstrong\u003E 앨범 자체에 목적을 두고 정보를 표현한다.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003ECollaborative filtering\u003C\u002Fstrong\u003E (유사 기반 추천), 사용자를 통해 생성된 데이터간 상관관계에 기반하여 표현한다.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E추천 알고리즘은 두가지 접근법을 모두 필요로 한다. 새로운 앨범이나 곡이 등록 되었을 때 설명 정보가 부족하거나 사용자 데이터가 부족하기 때문이다. 해당 문제를 \u003Cstrong\u003Ecold start problem\u003C\u002Fstrong\u003E이라 한다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"content-based-filtering\"\u003EContent-based filtering\u003Ca href=\"#content-based-filtering\" class=\"anchor\"\u003E\u003Cspan class=\"visually-hidden\"\u003E#\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003E먼저, Content-based filtering 알고리즘에 대해 살펴본다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cp\u003EAnalyzing artist-sourced metadata\u003C\u002Fp\u003E\n\u003Cp\u003E  Spotify는 신규 등록된 앨범이 있을 경우 알고리즘을 이용해 제작자로부터 제공된 부가정보 (metadata)와 내부 규정된 부가정보를 분석한다. 이상적인 경우 모든 부가정보들이 제공되어 있는 것이다.\u003C\u002Fp\u003E\n\u003Cp\u003E  다음 정보들이 포함되어 있을 것이다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E앨범명, 발매일, 가수명, 참여 가수, 작곡 및 작사가, 소속사 혹은 제작사, 장르, Mood, Music style, Custom Features, etc.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003EAnalyzing raw audio signals\u003C\u002Fp\u003E\n\u003Cp\u003E  두번째는 음원 분석이다. 여기서 어떤 정보가 분석되어 나오는지는 명확하지 않다. 하지만, 몇가지 추정 가능하다. \u003Ca href=\"https:\u002F\u002Fdeveloper.spotify.com\u002Fdocumentation\u002Fweb-api\u002Freference\u002F#\u002Foperations\u002Fget-audio-features\"\u003ESpotify API\u003C\u002Fa\u003E에 따르면 몇가지 음향 특성에 기반하고 있다. 예를 들면 특성 \u003Ccode\u003Einstrumentalness\u003C\u002Fcode\u003E은 해당 곡에 보컬 (목소리)이 얼마나 차지하는지 (예측) 수치화 되어 있다. 해당 곡이 악기 위주의 곡이면 \u003Ccode\u003E1\u003C\u002Fcode\u003E 보컬이 많다면 \u003Ccode\u003E0\u003C\u002Fcode\u003E에 가까운 점수로 표현이 된다.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E원 글 \u003Ccode\u003Ethe objective sonic description\u003C\u002Fcode\u003E을 \u003Ccode\u003E특성\u003C\u002Fcode\u003E으로 간단히 번역하였다. 설계된 특성이 좀더 명백한 설명이지만 편의상 간단히 번역하였다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E  위의 API에 따르면 Spotify는 기존 곡의 부가정보 외에 상위 개념 특성을 생성한다.\u003C\u002Fp\u003E\n\u003Cp\u003E  Example features of Spotify API:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003EDanceability\u003C\u002Fstrong\u003E describes how suitable a track is for dancing based on a combination of musical elements including \u003Cstrong\u003Etempo\u003C\u002Fstrong\u003E, \u003Cstrong\u003Erhythm stability\u003C\u002Fstrong\u003E, \u003Cstrong\u003Ebeat strength\u003C\u002Fstrong\u003E, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003EEnergy\u003C\u002Fstrong\u003E is a measure from 0.0 to 1.0 and represents a \u003Cstrong\u003Eperceptual measure\u003C\u002Fstrong\u003E of intensity and activity. Typically, energetic tracks \u003Cstrong\u003Efeel fast\u003C\u002Fstrong\u003E, \u003Cstrong\u003Eloud\u003C\u002Fstrong\u003E, and \u003Cstrong\u003Enoisy\u003C\u002Fstrong\u003E. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003EValence\u003C\u002Fstrong\u003E: A measure from 0.0 to 1.0 describing the \u003Cstrong\u003Emusical positiveness\u003C\u002Fstrong\u003E conveyed by a track. Tracks with \u003Cstrong\u003Ehigh valence\u003C\u002Fstrong\u003E sound more positive (e.g. \u003Cstrong\u003Ehappy, cheerful, euphoric\u003C\u002Fstrong\u003E), while tracks with \u003Cstrong\u003Elow valence\u003C\u002Fstrong\u003E sound more negative (e.g. \u003Cstrong\u003Esad, depressed, angry\u003C\u002Fstrong\u003E).\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E  위의 예들은 몇가지 특성에 불과하다. 아래 그림처럼 Spotify는 곡 자체를 구조 (\u003Ca href=\"https:\u002F\u002Fresearch.atspotify.com\u002Fpublications\u002Fgeneralized-metrics-for-single-f0-estimation-evaluation\u002F\"\u003E음정, 멜로디\u003C\u002Fa\u003E, 코드, \u003Ca href=\"https:\u002F\u002Fresearch.atspotify.com\u002F2020\u002F08\u002Fmaking-sense-of-music-by-extracting-and-analyzing-individual-instruments-in-a-song\u002F\"\u003E악기\u003C\u002Fa\u003E 단위) 분석하여 특성을 만들어낼 것이다. 또한 위의 해당 특성들은 2013년에 공개가 되었으며, 일부에 불과할 것으로 보인다.\u003C\u002Fp\u003E\n  \u003Cimg src=\"\u002Fimages\u002Fblog_18_fig_1.png\" height=200\u003E\n  \n\u003Cblockquote\u003E\n\u003Cp\u003Efrom \u003Ca href=\"https:\u002F\u002Fdeveloper.spotify.com\u002F\"\u003Ehttps:\u002F\u002Fdeveloper.spotify.com\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E  Spotify의 분석 알고리즘 연구는 10년이 넘어가고 있다. 지금은 훨씬 더 많은 발전을 이루었을 것이다. 2021년 GraphSAGE에 기반한 \u003Ca href=\"https:\u002F\u002Fresearch.atspotify.com\u002Fmulti-task-learning-of-graph-based-inductive-representations-of-music-content\u002F\"\u003ESpotify의 연구\u003C\u002Fa\u003E에 따르면, Audio feature로만 42-dimensional vector를 이용하고 있다고 한다. 위의 설명한 특성들을 포함하여 42개의 특성을 이용하고 있다는 것이다.\u003C\u002Fp\u003E\n  \u003Cimg src=\"\u002Fimages\u002Fblog_18_fig_2.png\" height=180\u003E\n  \n\u003Cblockquote\u003E\n\u003Cp\u003Efrom the paper “Multi-Task Learning of Graph-based Inductive Representations of Music Content”\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E즉, 곡 자체에서 엄청난 양의 정보를 자세하게 분석하여 Spotify 플랫폼에 적용하고 있다는 것이다. 중요한 것은 위의 딥러닝 모델이 42개 특성들을 만들어 내는 것이 아니다. \u003Cstrong\u003E42개 특성들이 학습 데이터로 들어간다는 것\u003C\u002Fstrong\u003E이다. 42개 특성들은 개별적인 ML 모델을 통해 나오거나 다년간 Spotify의 축적된 기술이기 때문에 가능한 것으로 보인다. 여러 특성들 역시 Spotify만의 관점이 아니라 Artist의 관점을 잘 반영하였을 것으로 보인다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EAnalyzing text with Natural Language Processing (NLP) models\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E  Content-based filtering의 마지막 요소로 자연어처리 (NLP) 모델이 있다. 자연어처리 모델이 하는 것은 특정 앨범 혹은 가수와 관련된 글들을 분석하여 의미를 추출한다.\u003C\u002Fp\u003E\n\u003Cp\u003E  해당 모델들이 하는 것은 다음의 예가 있다.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003ELyrics analysis\u003C\u002Fstrong\u003E: 가사 분석을 통해 곡의 테마나 의미를 얻는다. 또한, 위험성이 있는 단어나 민감한 정보를 포함하는지 확인한다. (지역, 특정인 이름, 브랜드)\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ETMI: 라디오에서 Pop은 브랜드 언급이 가능하지만, 국내 곡은 브랜드 언급이 불가하다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EWeb-crawled data\u003C\u002Fstrong\u003E: 블로그나 미디어 매체를 통해 얻는 정보들은 Spotify 내에서 얻을 수 없는 정보들이다. 가수나 곡에 대한 다양한 느낌이나 표현을 얻을 수 있다.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EUser-generated playlists\u003C\u002Fstrong\u003E: 플레이 리스트 제목에 포함된 단어들을 통해 정보를 얻는다. “슬픔”이란 단어를 포함하는 플레이리스트들에 자주 등장하는 곡이라면 해당 곡은 슬픈 무드를 가지고 있을 확률이 크다.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E  NLP 모델을 통해 사용자들은 곡에서 어떤 느낌을 받는지 음향 분석을 확장할 수 있다.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESpotify의 Content-based 추천 시스템 요소들:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003Eartist-sourced metadata\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003Eaudio analysis\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003ENLP models\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"collaborative-filtering-cf\"\u003ECollaborative Filtering (CF)\u003Ca href=\"#collaborative-filtering-cf\" class=\"anchor\"\u003E\u003Cspan class=\"visually-hidden\"\u003E#\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003ECollaborative Filtering는 많은 추천 시스템에 적용되어 있다.\u003C\u002Fp\u003E\n\u003Cp\u003ECF는 곡을 추천할 때 비슷한 취향을 가지는 사용자를 찾아 해당 곡을 추천한다. 알고리즘은 사용자를 찾을 때 사용자의 청취 기록에 기반한다. 만약 사용자 A가 곡 X, Y, Z를 즐겨 듣고, 사용자 B가 X, Y를 즐겨 듣고 Z는 아직 못 들어봤다. 그렇다면 곡 Z를 사용자 B에게 추천한다. 해당 정보들은 아래와 같이 User-Item interaction matrix에 저장되어 있을 것이다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ERow에 해당하는 정보는 User 한명이 어떤 곡들과 interaction을 가지고 있는지 이고, Column에 해당하는 정보는 특정 곡 하나가 어떤 User들과 interaction 하고 있는지 나타내고 있다. Row (User) 별로 비교하여 동일한 (혹은 비슷한) Row 정보를 가지고 있으면 유사한 취향을 가지고 있다고 할 수 있다.\u003C\u002Fli\u003E\n\u003Cli\u003E아래의 Matrix를 M이라고 했을 때 \u003Cspan class=\"katex\"\u003E\u003Cspan class=\"katex-mathml\"\u003E\u003Cmath xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1998\u002FMath\u002FMathML\"\u003E\u003Csemantics\u003E\u003Cmrow\u003E\u003Cmi mathvariant=\"bold\"\u003EM\u003C\u002Fmi\u003E\u003Cmo\u003E⋅\u003C\u002Fmo\u003E\u003Cmsup\u003E\u003Cmi mathvariant=\"bold\"\u003EM\u003C\u002Fmi\u003E\u003Cmi mathvariant=\"normal\"\u003E⊤\u003C\u002Fmi\u003E\u003C\u002Fmsup\u003E\u003C\u002Fmrow\u003E\u003Cannotation encoding=\"application\u002Fx-tex\"\u003E{\\bf M} \\cdot {\\bf M}^\\top\u003C\u002Fannotation\u003E\u003C\u002Fsemantics\u003E\u003C\u002Fmath\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"katex-html\" aria-hidden=\"true\"\u003E\u003Cspan class=\"base\"\u003E\u003Cspan class=\"strut\" style=\"height:0.6861em;\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"mord\"\u003E\u003Cspan class=\"mord\"\u003E\u003Cspan class=\"mord mathbf\"\u003EM\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"mbin\"\u003E⋅\u003C\u002Fspan\u003E\u003Cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"base\"\u003E\u003Cspan class=\"strut\" style=\"height:0.8491em;\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"mord\"\u003E\u003Cspan class=\"mord\"\u003E\u003Cspan class=\"mord\"\u003E\u003Cspan class=\"mord mathbf\"\u003EM\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"msupsub\"\u003E\u003Cspan class=\"vlist-t\"\u003E\u003Cspan class=\"vlist-r\"\u003E\u003Cspan class=\"vlist\" style=\"height:0.8491em;\"\u003E\u003Cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003E\u003Cspan class=\"pstrut\" style=\"height:2.7em;\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"sizing reset-size6 size3 mtight\"\u003E\u003Cspan class=\"mord mtight\"\u003E⊤\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E를 하게 되면 User-User Interaction matrix가 나오게 된다 해당 element 당 의미하는 것은 사용자와 사용자간의 interaction의 합이다. 해당 값이 높을 수록 사용자간 취향이 비슷하다고 할 수 있다. CF의 방법 중 하나이다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cimg src=\"\u002Fimages\u002Fblog_18_fig_3.png\" height=240\u003E\n\n\u003Cblockquote\u003E\n\u003Cp\u003ESpotify는 현재 (\u003Ca href=\"https:\u002F\u002Fwww.statista.com\u002Fstatistics\u002F244995\u002Fnumber-of-paying-spotify-subscribers\u002F\"\u003E2022Q4 기준\u003C\u002Fa\u003E) 2.05억명의 유로 구독자가 있다. 하나의 Matrix에 모든 정보를 담을 수 없다. Spotify는 효율적으로 Matrix 정보를 관리하기 위해 자체적인 관리 툴 (\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fspotify\u002Fannoy\"\u003EAnnoy\u003C\u002Fa\u003E)이 있다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E위의 방법이 모든 것을 해결해줄 것 같지만 아니다. 실제는 위의 방법은 정확도, 확장성, 속도, 사용자 및 곡간의 정보 부족 등의 문제를 겪는다. 그래서 Spotify는 소비 기반의 필터링 방법에서 Session 기반의 필터링 방법으로 무게를 두고 있다. 예, “두 곡이 같은 플레이 리스트에 존재하면 유사하다.”\u003C\u002Fp\u003E\n\u003Cp\u003E실제로는 많은 사용자가 매우 다양한 범위의 음악을 듣는다. (Spotify는 사용자가 \u003Ca href=\"https:\u002F\u002Fresearch.atspotify.com\u002F2020\u002F12\u002Falgorithmic-effects-on-the-diversity-of-consumption-on-spotify\u002F\"\u003E다양한 음악\u003C\u002Fa\u003E을 듣도록 설계를 하고 있다.) 이말은 많은 사용자가 곡 X와 곡 Y를 듣는다고 해서 두 음악가가 비슷한 것은 아니다. 만약 그렇게 된다면 Metallica (헤비메탈 밴드)와 ABBA (팝\u002F댄스 그룹)을 공유하는 사용자가 많을 것이다. 따라서 플레이 리스트와 재생 목록간의 유사성 확인을 위해 사용자 행동(습관)에 더 자세한 접근이 필요하다.\u003C\u002Fp\u003E\n\u003Cp\u003E많은 사용자가 곡 A와 곡 B를 하나의 플레이 리스트에 넣는다면 두 곡은 공통된 특성을 가지고 있을 것이다. 또한 플레이 리스트 제목으로부터 더 나은 통찰력을 얻을 수 있을 것이다.\u003C\u002Fp\u003E\n\u003Cp\u003ESpotify의 CF 방식의 추천 시스템이 7억명의 사용자가 생성한 플레이 리스트에 기반하여 학습되고 있다. 플레이 리스트 기반 접근은 단순히 데이터가 많아서가 아니다. 사용자들이 열정, 사랑, 시간을 들여 신중하게 선택하여 생성된 것이다.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E플레이 리스트는 사용자가 고려하여 선택된 것들이다. 단순한 이용 기반보다는 조직적일 확률이 크다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E마침내 Content-based filtering과 Collaborative filtering을 모두 살펴 보았다. 한가지 방식에 의존하는 것이 아니라 두가지 방식을 모두 이용하여 곡의 특성을 더욱 풍부하게 만든다. 그럼에도 신규 등록된 곡들은 부족할 수 있다. 곡 자체에 대한 분석과 아티스트의 정보를 이용해 근사될 것이다.\u003C\u002Fp\u003E\n\u003Cp\u003E위의 살펴본 것들은 곡 (track) 혹은 가수 (artist) 단계의 데이터를 이용한 상관 관계 기반 추천이다. 우리는 사용자의 정보와 결합해 볼 것이다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"generating-user-taste-profiles\"\u003EGenerating User Taste Profiles\u003Ca href=\"#generating-user-taste-profiles\" class=\"anchor\"\u003E\u003Cspan class=\"visually-hidden\"\u003E#\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003E기본적으로, 추천 엔진은 사용자에 대한 \u003Cstrong\u003E상세 활동\u003C\u002Fstrong\u003E을 모니터링하고, \u003Cstrong\u003E사용자 취향 (User Taste) 분석\u003C\u002Fstrong\u003E하는데 이용한다. 예를 들어, 사용자가 “What’s New” 탭을 사용하여 음악들을 빠르게 탐색하고 있다. 초반부만 재생하며, 마음에 드는 음악이면 playlist에 저장, 아니면 건너뛴다. 여기서 Skip이 반드시 부정적 신호라 할 수 없다. 반대로, “Deep Focus” playlist를 background (잠금 상태 혹은 메인 탭이 아닌)에서 skip을 한다면 강한 부정 신호라 볼 수 있다.\u003C\u002Fp\u003E\n\u003Cp\u003E일반적으로 사용자 피드백은 두가지 영역으로 나눌 수 있다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E직접적 (Explicit, or active) feedback\u003C\u002Fstrong\u003E: library 저장, playlist 추가, 공유, skip, 가수 혹은 앨범 클릭, 가수 follow, 지속 청취\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E간접적 (Implicit, or passive) feedback\u003C\u002Fstrong\u003E: 청취 시간, 반복적 청취,\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESpotify의 추천 시스템은 \u003Cstrong\u003E직접적 피드백\u003C\u002Fstrong\u003E에 더 무게를 두고 있다. 음악을 일을 하면서 background에서 듣고 있을 때 (방해 받고 싶지 않은) 청취는 항상 즐거움과 연관된 것은 아니다. 그럼으로 사용자 피드백 데이터는 다음 규약에 따라 처리된다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E가장 많이 재생되거나 선호되는 음악과 가수\u003C\u002Fli\u003E\n\u003Cli\u003E저장된 음악, 앨범 &amp; 팔로우 하는 가수\u003C\u002Fli\u003E\n\u003Cli\u003E장르, mood, style, 발매일\u003C\u002Fli\u003E\n\u003Cli\u003E인기성 및 다양성 선호도\u003C\u002Fli\u003E\n\u003Cli\u003E일시적 행동 패턴\u003C\u002Fli\u003E\n\u003Cli\u003E인구 통계 및 지리적 정보\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E그리고 사용자 맞춤형 정보는 \u003Cstrong\u003E소비 상황\u003C\u002Fstrong\u003E을 따라 더 나누어진다. 예를 들어 동일 사용자가 일요일 저녁에는 mellow indie-pop을 월요일 아침에는 기운찬 hip-hop을 듣는 다면 Spotify는 \u003Ca href=\"https:\u002F\u002Fresearch.atspotify.com\u002F2020\u002F05\u002Fgiving-voice-to-silent-data-designing-with-personal-music-listening-history\u002F\"\u003E아래와 같은\u003C\u002Fa\u003E (context-aware) 사용자 정보를 생성한다.\u003C\u002Fp\u003E\n\u003Cimg class=\"big\" src=\"\u002Fimages\u002Fblog_18_fig_4.png\"\u003E\n\n\u003Cp\u003E위의 history-based 사용자 정보는 새로운 소비 활동들과 합쳐져 \u003Cstrong\u003E지속적으로 변경\u003C\u002Fstrong\u003E된다. historic profile 기반이지만 \u003Cstrong\u003E최근 활동\u003C\u002Fstrong\u003E에 더 무게를 둔다. 예를 들어 사용자가 새로운 장르를 듣는다면, 사용자 피드백에 반영되고, 추천 시스템은 해당 곡들과 유사한 음악을 추천하려고 할 것이다. (기존 선호 곡과 매우 다르더라도)\u003C\u002Fp\u003E\n\u003Ch2 id=\"recommending-music-integrating-user-and-track-representations\"\u003ERecommending music: integrating user and track representations\u003Ca href=\"#recommending-music-integrating-user-and-track-representations\" class=\"anchor\"\u003E\u003Cspan class=\"visually-hidden\"\u003E#\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Chr\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003Eupdated date: 2023-03-19; Adding contents\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n"}},"uses":{"params":["path","slug"]}}];

					Promise.all([
						import("../_app/immutable/entry/start.515f0d26.js"),
						import("../_app/immutable/entry/app.8b861ad3.js")
					]).then(([kit, app]) => {
						kit.start(app, __sveltekit_1kwx0yh.element, {
							node_ids: [0, 4],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
